<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head"></head>
<body>

<h1>Exercise List</h1>

<form th:action="@{/search}" method="get">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" th:value="${name}" />

    <label for="type">Type:</label>
    <select id="type" name="type" th:value="${type}">
        <option value="">-- Select Type --</option>
        <option value="cardio">Cardio</option>
        <option value="olympic_weightlifting">Olympic Weightlifting</option>
        <option value="plyometrics">Plyometrics</option>
        <option value="powerlifting">Powerlifting</option>
        <option value="strength">Strength</option>
        <option value="stretching">Stretching</option>
        <option value="strongman">Strongman</option>
    </select>

    <label for="muscle">Muscle:</label>
    <select id="muscle" name="muscle" th:value="${muscle}">
        <option value="">-- Select Muscle --</option>
        <option value="abdominals">Abdominals</option>
        <option value="abductors">Abductors</option>
        <option value="adductors">Adductors</option>
        <option value="biceps">Biceps</option>
        <option value="calves">Calves</option>
        <option value="chest">Chest</option>
        <option value="forearms">Forearms</option>
        <option value="glutes">Glutes</option>
        <option value="hamstrings">Hamstrings</option>
        <option value="lats">Lats</option>
        <option value="lower_back">Lower Back</option>
        <option value="middle_back">Middle Back</option>
        <option value="neck">Neck</option>
        <option value="quadriceps">Quadriceps</option>
        <option value="traps">Traps</option>
        <option value="triceps">Triceps</option>
    </select>

    <label for="difficulty">Difficulty:</label>
    <select id="difficulty" name="difficulty" th:value="${difficulty}">
        <option value="">-- Select Difficulty --</option>
        <option value="beginner">Beginner</option>
        <option value="intermediate">Intermediate</option>
        <option value="expert">Expert</option>
    </select>

    <button type="submit">Search</button>
</form>

<div th:if="${exercises != null}">
    <h2>Results:</h2>
    <ul>
        <!-- Display exercises with "Add to Workout" button -->
        <li th:each="exercise : ${exercises}">
            <span th:text="${exercise.name}"></span>
            <button type="button" th:onclick="'addToWorkout(' + ${exercise.id} + ')'" class="add-to-workout-btn">Add to Workout</button>
        </li>
    </ul>
</div>

<div class="footer" th:replace="fragments :: footer"></div>

<!-- Add a script to handle adding exercises to the workout -->
<script th:inline="javascript">
    function addToWorkout(exerciseId) {
        alert('Exercise added to workout: ' + exerciseId);
    }
</script>

</body>
</html>